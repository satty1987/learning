import{C as W,Ca as z,D as T,F as V,G as H,H as B,Ka as G,Na as Z,O as R,P as q,Pa as Y,Qa as Q,Ra as J,V as $,W as y,a as N,c as M,d as S,fa as K,g as d,h as P,j as F,k as p,l as b,m,n as j,o as w,p as u,q as L,s as h,u as _,v as c,w as f,x}from"./chunk-NHMTXIBX.js";var X=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>import("./chunk-GPGBJ7GC.js").then(e=>e.HomeModule)},{path:"abc",loadChildren:()=>import("./chunk-663WIZHW.js").then(e=>e.AbcModule)},{path:"numbers",loadChildren:()=>import("./chunk-JAUWGGDW.js").then(e=>e.NumbersModule)},{path:"colors",loadChildren:()=>import("./chunk-SKQZW2FA.js").then(e=>e.ColorsModule)},{path:"shapes",loadChildren:()=>import("./chunk-LPIOXJIZ.js").then(e=>e.ShapesModule)},{path:"opposites",loadChildren:()=>import("./chunk-VVGOH4E5.js").then(e=>e.OppositesModule)},{path:"rhymes",loadChildren:()=>import("./chunk-6CCUAUYP.js").then(e=>e.RhymesModule)},{path:"addition",loadChildren:()=>import("./chunk-KRPU25Z5.js").then(e=>e.AdditionModule)},{path:"animals",loadChildren:()=>import("./chunk-BEIAEISZ.js").then(e=>e.AnimalsModule)},{path:"quiz",loadChildren:()=>import("./chunk-ERJIH7LY.js").then(e=>e.QuizModule)},{path:"abc-tap",loadChildren:()=>import("./chunk-7IHXU4WZ.js").then(e=>e.AbcTapModule)},{path:"number-tap",loadChildren:()=>import("./chunk-4ARJDTV6.js").then(e=>e.NumberTapModule)},{path:"memory-match",loadChildren:()=>import("./chunk-LG5QC4UT.js").then(e=>e.MemoryMatchModule)},{path:"learn/:category",loadChildren:()=>import("./chunk-GESAK7PK.js").then(e=>e.CategoryLearningModule)},{path:"concentration",loadChildren:()=>import("./chunk-HHKCBRBV.js").then(e=>e.ConcentrationModule)},{path:"sequence-memory",loadChildren:()=>import("./chunk-DAJ3JWUQ.js").then(e=>e.SequenceMemoryModule)},{path:"drawing-board",loadChildren:()=>import("./chunk-JU6V36DR.js").then(e=>e.DrawingBoardModule)},{path:"story-time",loadChildren:()=>import("./chunk-5YAKEGUO.js").then(e=>e.StoryTimeModule)},{path:"music-maker",loadChildren:()=>import("./chunk-HEDCTZZ7.js").then(e=>e.MusicMakerModule)},{path:"**",redirectTo:"home"}];var U="Service workers are disabled or not supported by this browser",g=class{serviceWorker;worker;registration;events;constructor(o,r){if(this.serviceWorker=o,!o)this.worker=this.events=this.registration=new M(i=>i.error(new u(5601,!1)));else{let i=null,t=new S;this.worker=new M(a=>(i!==null&&a.next(i),t.subscribe(E=>a.next(E))));let n=()=>{let{controller:a}=o;a!==null&&(i=a,t.next(i))};o.addEventListener("controllerchange",n),n(),this.registration=this.worker.pipe(w(()=>o.getRegistration().then(a=>{if(!a)throw new u(5601,!1);return a})));let s=new S;this.events=s.asObservable();let l=a=>{let{data:E}=a;E?.type&&s.next(E)};o.addEventListener("message",l),r?.get(y,null,{optional:!0})?.onDestroy(()=>{o.removeEventListener("controllerchange",n),o.removeEventListener("message",l)})}}postMessage(o,r){return new Promise(i=>{this.worker.pipe(m(1)).subscribe(t=>{t.postMessage(N({action:o},r)),i()})})}postMessageWithOperation(o,r,i){let t=this.waitForOperationCompleted(i),n=this.postMessage(o,r);return Promise.all([n,t]).then(([,s])=>s)}generateNonce(){return Math.round(Math.random()*1e7)}eventsOfType(o){let r;return typeof o=="string"?r=i=>i.type===o:r=i=>o.includes(i.type),this.events.pipe(b(r))}nextEventOfType(o){return this.eventsOfType(o).pipe(m(1))}waitForOperationCompleted(o){return new Promise((r,i)=>{this.eventsOfType("OPERATION_COMPLETED").pipe(b(t=>t.nonce===o),m(1),d(t=>{if(t.result!==void 0)return t.result;throw new Error(t.error)})).subscribe({next:r,error:i})})}get isEnabled(){return!!this.serviceWorker}},ie=(()=>{class e{sw;messages;notificationClicks;notificationCloses;pushSubscriptionChanges;subscription;get isEnabled(){return this.sw.isEnabled}pushManager=null;subscriptionChanges=new S;constructor(r){if(this.sw=r,!r.isEnabled){this.messages=p,this.notificationClicks=p,this.notificationCloses=p,this.pushSubscriptionChanges=p,this.subscription=p;return}this.messages=this.sw.eventsOfType("PUSH").pipe(d(t=>t.data)),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(d(t=>t.data)),this.notificationCloses=this.sw.eventsOfType("NOTIFICATION_CLOSE").pipe(d(t=>t.data)),this.pushSubscriptionChanges=this.sw.eventsOfType("PUSH_SUBSCRIPTION_CHANGE").pipe(d(t=>t.data)),this.pushManager=this.sw.registration.pipe(d(t=>t.pushManager));let i=this.pushManager.pipe(w(t=>t.getSubscription()));this.subscription=new M(t=>{let n=i.subscribe(t),s=this.subscriptionChanges.subscribe(t);return()=>{n.unsubscribe(),s.unsubscribe()}})}requestSubscription(r){if(!this.sw.isEnabled||this.pushManager===null)return Promise.reject(new Error(U));let i={userVisibleOnly:!0},t=this.decodeBase64(r.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),n=new Uint8Array(new ArrayBuffer(t.length));for(let s=0;s<t.length;s++)n[s]=t.charCodeAt(s);return i.applicationServerKey=n,new Promise((s,l)=>{this.pushManager.pipe(w(v=>v.subscribe(i)),m(1)).subscribe({next:v=>{this.subscriptionChanges.next(v),s(v)},error:l})})}unsubscribe(){if(!this.sw.isEnabled)return Promise.reject(new Error(U));let r=i=>{if(i===null)throw new u(5602,!1);return i.unsubscribe().then(t=>{if(!t)throw new u(5603,!1);this.subscriptionChanges.next(null)})};return new Promise((i,t)=>{this.subscription.pipe(m(1),w(r)).subscribe({next:i,error:t})})}decodeBase64(r){return atob(r)}static \u0275fac=function(i){return new(i||e)(c(g))};static \u0275prov=h({token:e,factory:e.\u0275fac})}return e})(),A=(()=>{class e{sw;versionUpdates;unrecoverable;get isEnabled(){return this.sw.isEnabled}ongoingCheckForUpdate=null;constructor(r){if(this.sw=r,!r.isEnabled){this.versionUpdates=p,this.unrecoverable=p;return}this.versionUpdates=this.sw.eventsOfType(["VERSION_DETECTED","VERSION_INSTALLATION_FAILED","VERSION_READY","NO_NEW_VERSION_DETECTED"]),this.unrecoverable=this.sw.eventsOfType("UNRECOVERABLE_STATE")}checkForUpdate(){if(!this.sw.isEnabled)return Promise.reject(new Error(U));if(this.ongoingCheckForUpdate)return this.ongoingCheckForUpdate;let r=this.sw.generateNonce();return this.ongoingCheckForUpdate=this.sw.postMessageWithOperation("CHECK_FOR_UPDATES",{nonce:r},r).finally(()=>{this.ongoingCheckForUpdate=null}),this.ongoingCheckForUpdate}activateUpdate(){if(!this.sw.isEnabled)return Promise.reject(new u(5601,!1));let r=this.sw.generateNonce();return this.sw.postMessageWithOperation("ACTIVATE_UPDATE",{nonce:r},r)}static \u0275fac=function(i){return new(i||e)(c(g))};static \u0275prov=h({token:e,factory:e.\u0275fac})}return e})(),te=new _("");function ne(){let e=f(C);if(!("serviceWorker"in navigator&&e.enabled!==!1))return;let o=f(te),r=f(V),i=f(y);r.runOutsideAngular(()=>{let t=navigator.serviceWorker,n=()=>t.controller?.postMessage({action:"INITIALIZE"});t.addEventListener("controllerchange",n),i.onDestroy(()=>{t.removeEventListener("controllerchange",n)})}),r.runOutsideAngular(()=>{let t,{registrationStrategy:n}=e;if(typeof n=="function")t=new Promise(s=>n().subscribe(()=>s()));else{let[s,...l]=(n||"registerWhenStable:30000").split(":");switch(s){case"registerImmediately":t=Promise.resolve();break;case"registerWithDelay":t=ee(+l[0]||0);break;case"registerWhenStable":t=Promise.race([i.whenStable(),ee(+l[0])]);break;default:throw new u(5600,!1)}}t.then(()=>{i.destroyed||navigator.serviceWorker.register(o,{scope:e.scope,updateViaCache:e.updateViaCache,type:e.type}).catch(s=>console.error(L(5604,!1)))})})}function ee(e){return new Promise(o=>setTimeout(o,e))}function se(){let e=f(C),o=f(W),r=!0;return new g(r&&e.enabled!==!1?navigator.serviceWorker:void 0,o)}var C=class{enabled;updateViaCache;type;scope;registrationStrategy};function re(e,o={}){return x([ie,A,{provide:te,useValue:e},{provide:C,useValue:o},{provide:g,useFactory:se},$(ne)])}var oe={providers:[H(),J(X),re("ngsw-worker.js",{enabled:!z(),registrationStrategy:"registerWhenStable:30000"})]};var O=class e{constructor(o){this.dom=o}setCanonicalURL(o){let r=o||this.dom.URL,i=this.dom.querySelector("link[rel='canonical']");i?i.setAttribute("href",r):(i=this.dom.createElement("link"),i.setAttribute("rel","canonical"),i.setAttribute("href",r),this.dom.head.appendChild(i))}static \u0275fac=function(r){return new(r||e)(c(T))};static \u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"})};var D=class e{constructor(o,r,i){this.router=o;this.canonical=r;this.doc=i;this.router.events.pipe(b(t=>t instanceof Z)).subscribe(()=>{let t=this.doc.querySelector("base")?.href??`${location.origin}/`,n=new URL(this.router.url,t).toString();this.canonical.setCanonicalURL(n)})}title=B("kidsLearning");static \u0275fac=function(r){return new(r||e)(R(Q),R(O),R(T))};static \u0275cmp=q({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){r&1&&K(0,"router-outlet")},dependencies:[Y],encapsulation:2})};var I=class e{constructor(o,r){this.swUpdate=o;this.appRef=r;this.swUpdate.isEnabled&&(this.checkForUpdates(),this.listenForUpdates())}checkForUpdates(){let o=this.appRef.isStable.pipe(j(t=>t===!0)),r=F(360*60*1e3);P(o,r).subscribe(async()=>{try{await this.swUpdate.checkForUpdate()&&console.log("A new version is available.")}catch(t){console.error("Failed to check for updates:",t)}})}listenForUpdates(){this.swUpdate.versionUpdates.subscribe(o=>{switch(o.type){case"VERSION_DETECTED":console.log("Downloading new app version:",o.version.hash);break;case"VERSION_READY":console.log("New app version ready:",o.latestVersion.hash),this.promptUserToUpdate();break;case"VERSION_INSTALLATION_FAILED":console.error("Failed to install app version:",o.version.hash);break}})}promptUserToUpdate(){confirm("New version available! Reload to update?")&&this.swUpdate.activateUpdate().then(()=>{window.location.reload()})}static \u0275fac=function(r){return new(r||e)(c(A),c(y))};static \u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"})};G(D,oe).then(e=>{e.injector.get(I)}).catch(e=>console.error(e));
