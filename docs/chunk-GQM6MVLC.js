import{Fa as S,Ga as y,Ha as z,K as c,M as k,N as D,O as E,Oa as B,Qa as T,R as v,aa as g,ba as o,ca as a,da as x,ga as f,ia as m,ka as u,la as M,ma as P,na as O,oa as _,pa as w,ra as s,sa as b,t as C,y as d,z as p}from"./chunk-QGOO46OT.js";var R=["canvas"];function j(r,t){if(r&1){let e=f();o(0,"button",19),m("click",function(){let i=d(e).$implicit,l=u();return p(l.selectColor(i.value))}),a()}if(r&2){let e=t.$implicit,n=u();_("background",e.value),w("active",n.selectedColor===e.value&&n.mode==="draw"),g("title",e.name)}}function Y(r,t){if(r&1){let e=f();o(0,"button",20),m("click",function(){let i=d(e).$implicit,l=u();return p(l.selectSize(i.value))}),x(1,"div",21),o(2,"span"),s(3),a()()}if(r&2){let e=t.$implicit,n=u();w("active",n.selectedSize===e.value),c(),_("width",e.value,"px")("height",e.value,"px"),c(2),b(e.name)}}function I(r,t){if(r&1){let e=f();o(0,"button",24),m("click",function(){let i=d(e).$implicit,l=u(2);return p(l.loadTemplate(i))}),o(1,"span",25),s(2),a(),o(3,"span",26),s(4),a()()}if(r&2){let e=t.$implicit;c(2),b(e.emoji),c(2),b(e.name)}}function L(r,t){if(r&1&&(o(0,"div",8)(1,"h3",9),s(2,"Templates"),a(),o(3,"div",22),v(4,I,5,2,"button",23),a()()),r&2){let e=u();c(4),g("ngForOf",e.templates)}}var h=class r{constructor(t){this.router=t}canvas;ctx;isDrawing=!1;lastX=0;lastY=0;colors=[{name:"Red",value:"#ef4444"},{name:"Blue",value:"#3b82f6"},{name:"Green",value:"#10b981"},{name:"Yellow",value:"#fbbf24"},{name:"Purple",value:"#a855f7"},{name:"Orange",value:"#f97316"},{name:"Pink",value:"#ec4899"},{name:"Black",value:"#000000"}];brushSizes=[{name:"Small",value:5},{name:"Medium",value:10},{name:"Large",value:20},{name:"XL",value:30}];selectedColor="#ef4444";selectedSize=10;mode="draw";templates=[{name:"Cat",emoji:"\u{1F431}"},{name:"House",emoji:"\u{1F3E0}"},{name:"Tree",emoji:"\u{1F333}"},{name:"Sun",emoji:"\u2600\uFE0F"},{name:"Car",emoji:"\u{1F697}"}];showTemplates=!1;ngAfterViewInit(){let t=this.canvas.nativeElement;this.ctx=t.getContext("2d"),this.resizeCanvas(),window.addEventListener("resize",()=>this.resizeCanvas()),this.setupDrawing()}resizeCanvas(){let t=this.canvas.nativeElement;t.width=t.offsetWidth,t.height=t.offsetHeight}setupDrawing(){let t=this.canvas.nativeElement;t.addEventListener("mousedown",e=>this.startDrawing(e)),t.addEventListener("mousemove",e=>this.draw(e)),t.addEventListener("mouseup",()=>this.stopDrawing()),t.addEventListener("mouseout",()=>this.stopDrawing()),t.addEventListener("touchstart",e=>{e.preventDefault();let n=e.touches[0],i=new MouseEvent("mousedown",{clientX:n.clientX,clientY:n.clientY});t.dispatchEvent(i)}),t.addEventListener("touchmove",e=>{e.preventDefault();let n=e.touches[0],i=new MouseEvent("mousemove",{clientX:n.clientX,clientY:n.clientY});t.dispatchEvent(i)}),t.addEventListener("touchend",e=>{e.preventDefault(),t.dispatchEvent(new MouseEvent("mouseup",{}))})}startDrawing(t){this.isDrawing=!0;let e=this.canvas.nativeElement.getBoundingClientRect();this.lastX=t.clientX-e.left,this.lastY=t.clientY-e.top}draw(t){if(!this.isDrawing)return;let e=this.canvas.nativeElement.getBoundingClientRect(),n=t.clientX-e.left,i=t.clientY-e.top;this.ctx.beginPath(),this.ctx.moveTo(this.lastX,this.lastY),this.ctx.lineTo(n,i),this.mode==="erase"?(this.ctx.strokeStyle="#ffffff",this.ctx.lineWidth=this.selectedSize*2):(this.ctx.strokeStyle=this.selectedColor,this.ctx.lineWidth=this.selectedSize),this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.stroke(),this.lastX=n,this.lastY=i}stopDrawing(){this.isDrawing=!1}selectColor(t){this.selectedColor=t,this.mode="draw"}selectSize(t){this.selectedSize=t}toggleMode(){this.mode=this.mode==="draw"?"erase":"draw"}clearCanvas(){let t=this.canvas.nativeElement;this.ctx.clearRect(0,0,t.width,t.height)}saveDrawing(){let e=this.canvas.nativeElement.toDataURL("image/png"),n=document.createElement("a");n.download=`drawing-${Date.now()}.png`,n.href=e,n.click()}loadTemplate(t){this.clearCanvas(),this.showTemplates=!1;let e=this.canvas.nativeElement,n=e.width/2,i=e.height/2;this.ctx.font="200px Arial",this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText(t.emoji,n,i)}goBack(){this.router.navigate(["/home"])}static \u0275fac=function(e){return new(e||r)(k(B))};static \u0275cmp=D({type:r,selectors:[["app-drawing-board"]],viewQuery:function(e,n){if(e&1&&M(R,5),e&2){let i;P(i=O())&&(n.canvas=i.first)}},decls:35,vars:5,consts:[["canvas",""],[1,"drawing-board-screen"],[1,"header"],[1,"back-btn",3,"click"],[1,"title"],[1,"header-spacer"],[1,"main-content"],[1,"toolbar"],[1,"tool-section"],[1,"tool-title"],[1,"color-picker"],["class","color-btn",3,"active","background","title","click",4,"ngFor","ngForOf"],[1,"size-picker"],["class","size-btn",3,"active","click",4,"ngFor","ngForOf"],[1,"tools-group"],[1,"tool-btn",3,"click"],["class","tool-section",4,"ngIf"],[1,"canvas-container"],[1,"drawing-canvas"],[1,"color-btn",3,"click","title"],[1,"size-btn",3,"click"],[1,"size-preview"],[1,"templates-grid"],["class","template-btn",3,"click",4,"ngFor","ngForOf"],[1,"template-btn",3,"click"],[1,"template-emoji"],[1,"template-name"]],template:function(e,n){if(e&1){let i=f();o(0,"div",1)(1,"div",2)(2,"button",3),m("click",function(){return d(i),p(n.goBack())}),s(3,"\u2190 Back"),a(),o(4,"h1",4),s(5,"\u{1F3A8} Drawing Board"),a(),x(6,"div",5),a(),o(7,"div",6)(8,"div",7)(9,"div",8)(10,"h3",9),s(11,"Colors"),a(),o(12,"div",10),v(13,j,1,5,"button",11),a()(),o(14,"div",8)(15,"h3",9),s(16,"Brush Size"),a(),o(17,"div",12),v(18,Y,4,7,"button",13),a()(),o(19,"div",8)(20,"h3",9),s(21,"Tools"),a(),o(22,"div",14)(23,"button",15),m("click",function(){return d(i),p(n.toggleMode())}),s(24," \u{1F9FD} Eraser "),a(),o(25,"button",15),m("click",function(){return d(i),p(n.clearCanvas())}),s(26," \u{1F5D1}\uFE0F Clear "),a(),o(27,"button",15),m("click",function(){return d(i),p(n.saveDrawing())}),s(28," \u{1F4BE} Save "),a(),o(29,"button",15),m("click",function(){return d(i),p(n.showTemplates=!n.showTemplates)}),s(30," \u{1F5BC}\uFE0F Templates "),a()()(),v(31,L,5,1,"div",16),a(),o(32,"div",17),x(33,"canvas",18,0),a()()()}e&2&&(c(13),g("ngForOf",n.colors),c(5),g("ngForOf",n.brushSizes),c(5),w("active",n.mode==="erase"),c(8),g("ngIf",n.showTemplates))},dependencies:[z,S,y],styles:[".drawing-board-screen[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;flex-direction:column;font-family:Comic Sans MS,cursive,sans-serif}.header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:20px;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.back-btn[_ngcontent-%COMP%]{background:#fff;color:#667eea;padding:12px 24px;border:none;border-radius:50px;font-size:1.1rem;font-weight:700;cursor:pointer;transition:transform .3s;box-shadow:0 4px 15px #0003}.back-btn[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.title[_ngcontent-%COMP%]{font-size:clamp(1.8rem,5vw,2.5rem);color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.3);margin:0}.header-spacer[_ngcontent-%COMP%]{width:120px}.main-content[_ngcontent-%COMP%]{display:flex;flex:1;gap:20px;padding:20px}.toolbar[_ngcontent-%COMP%]{background:#fff;border-radius:20px;padding:20px;width:280px;box-shadow:0 10px 40px #0003;overflow-y:auto;max-height:calc(100vh - 140px)}.tool-section[_ngcontent-%COMP%]{margin-bottom:25px}.tool-title[_ngcontent-%COMP%]{font-size:1.2rem;color:#667eea;margin-bottom:12px}.color-picker[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(4,1fr);gap:10px}.color-btn[_ngcontent-%COMP%]{width:50px;height:50px;border:3px solid transparent;border-radius:50%;cursor:pointer;transition:all .3s;box-shadow:0 3px 10px #0003}.color-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.color-btn.active[_ngcontent-%COMP%]{border-color:#667eea;box-shadow:0 0 0 3px #667eea4d}.size-picker[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.size-btn[_ngcontent-%COMP%]{display:flex;align-items:center;gap:15px;background:#f3f4f6;border:2px solid transparent;padding:12px;border-radius:12px;cursor:pointer;transition:all .3s}.size-btn[_ngcontent-%COMP%]:hover{background:#e5e7eb}.size-btn.active[_ngcontent-%COMP%]{background:#ddd6fe;border-color:#667eea}.size-preview[_ngcontent-%COMP%]{background:#667eea;border-radius:50%}.tools-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.tool-btn[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:15px;border-radius:12px;font-size:1.1rem;font-weight:700;cursor:pointer;transition:all .3s;box-shadow:0 4px 15px #0003}.tool-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #0000004d}.tool-btn.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f97316,#ef4444)}.templates-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}.template-btn[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;background:#f3f4f6;border:2px solid transparent;padding:15px;border-radius:12px;cursor:pointer;transition:all .3s}.template-btn[_ngcontent-%COMP%]:hover{background:#ddd6fe;border-color:#667eea;transform:scale(1.05)}.template-emoji[_ngcontent-%COMP%]{font-size:3rem}.template-name[_ngcontent-%COMP%]{font-size:.9rem;font-weight:700;color:#333;margin-top:5px}.canvas-container[_ngcontent-%COMP%]{flex:1;background:#fff;border-radius:20px;box-shadow:0 10px 40px #0003;overflow:hidden;position:relative}.drawing-canvas[_ngcontent-%COMP%]{width:100%;height:100%;cursor:crosshair;display:block}@media(max-width:968px){.main-content[_ngcontent-%COMP%]{flex-direction:column}.toolbar[_ngcontent-%COMP%]{width:100%;max-height:300px}.canvas-container[_ngcontent-%COMP%]{min-height:400px}.header[_ngcontent-%COMP%]{flex-wrap:wrap;gap:10px}.header-spacer[_ngcontent-%COMP%]{display:none}}@media(max-width:480px){.color-picker[_ngcontent-%COMP%]{grid-template-columns:repeat(4,1fr)}.color-btn[_ngcontent-%COMP%]{width:40px;height:40px}.toolbar[_ngcontent-%COMP%]{padding:15px}.tool-title[_ngcontent-%COMP%]{font-size:1rem}}"]})};var X=[{path:"",component:h}],V=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=E({type:r});static \u0275inj=C({imports:[T.forChild(X),h]})};export{V as DrawingBoardModule};
